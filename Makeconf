TOP_DIR = $(patsubst %/,%,$(dir $(CURDIR)/$(word $(words $(MAKEFILE_LIST)),$(MAKEFILE_LIST))))
SRC_DIR = $(CURDIR)/src
OBJ_DIR = $(CURDIR)/obj

NUM_CPUS := $(shell getconf _NPROCESSORS_ONLN)
BUILD_OPTS = -p -j$(NUM_CPUS)

POLICY_DIR = $(TOP_DIR)/policy
POLICY     = $(POLICY_DIR)/xml/demo_system.xml
POLICY_INC = $(POLICY_DIR)/obj

MUCFGVALIDATE = $(TOP_DIR)/tools/mucfgvalidate/bin/mucfgvalidate
MUGENACPI     = $(TOP_DIR)/tools/mugenacpi/bin/mugenacpi
MUIOBMGEN     = $(TOP_DIR)/tools/muiobmgen/bin/muiobmgen
MUMSRBMGEN    = $(TOP_DIR)/tools/mumsrbmgen/bin/mumsrbmgen
MUPACK        = $(TOP_DIR)/tools/mupack/bin/mupack
MUPTGEN       = $(TOP_DIR)/tools/muptgen/bin/muptgen
MUSPECGEN     = $(TOP_DIR)/tools/muspecgen/bin/muspecgen
MUZPGEN       = $(TOP_DIR)/tools/muzpgen/bin/muzpgen

HARDWARE ?= bochs
