TOP_DIR = $(dir $(CURDIR)/$(word $(words $(MAKEFILE_LIST)),$(MAKEFILE_LIST)))
SRC_DIR = $(CURDIR)/src
OBJ_DIR = $(CURDIR)/obj

NUM_CPUS := $(shell getconf _NPROCESSORS_ONLN)
BUILD_OPTS = -p -j$(NUM_CPUS)

POLICY_DIR = $(TOP_DIR)/policy
POLICY_INC = $(POLICY_DIR)/include
POLICY_PAC = $(POLICY_DIR)/pack

SCHEMA_DIR = $(TOP_DIR)/tools/policy/schema

SKCONFIG = $(TOP_DIR)/tools/config/obj/skconfig
SKPACKER = $(TOP_DIR)/tools/packer/obj/skpacker
SKPOLICY = $(TOP_DIR)/tools/policy/obj/skpolicy

HARDWARE ?= bochs

CONT_DIR = $(TOP_DIR)/contrib
CONB_DIR = $(CONT_DIR)/build

export ADA_PROJECT_PATH = \
	$(TOP_DIR)/config:$(CONT_DIR):$(CONB_DIR)/share/ada/adainclude:$(CONB_DIR)/lib/gnat
