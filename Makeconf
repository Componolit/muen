TOP_DIR = $(dir $(CURDIR)/$(word $(words $(MAKEFILE_LIST)),$(MAKEFILE_LIST)))
SRC_DIR = $(CURDIR)/src
OBJ_DIR = $(CURDIR)/obj

NUM_CPUS := $(shell getconf _NPROCESSORS_ONLN)
BUILD_OPTS = -p -j$(NUM_CPUS)

POLICY_DIR = $(TOP_DIR)/policy
POLICY_INC = $(POLICY_DIR)/include
POLICY_PAC = $(POLICY_DIR)/pack

SCHEMA_DIR = $(TOP_DIR)/tools/policy/schema

SKCONFIG = $(TOP_DIR)/tools/config/obj/skconfig
SKPACKER = $(TOP_DIR)/tools/packer/obj/skpacker
SKPOLICY = $(TOP_DIR)/tools/policy/obj/skpolicy

MUACPIGEN  = $(TOP_DIR)/tools/muacpigen/bin/muacpigen
MUIOBMGEN  = $(TOP_DIR)/tools/muiobmgen/bin/muiobmgen
MUMSRBMGEN = $(TOP_DIR)/tools/mumsrbmgen/bin/mumsrbmgen
MUPACK     = $(TOP_DIR)/tools/mupack/bin/mupack
MUPTGEN    = $(TOP_DIR)/tools/muptgen/bin/muptgen
MUSPECGEN  = $(TOP_DIR)/tools/muspecgen/bin/muspecgen
MUVALIDATE = $(TOP_DIR)/tools/muvalidate/bin/muvalidate
MUZPGEN    = $(TOP_DIR)/tools/muzpgen/bin/muzpgen

HARDWARE ?= bochs
