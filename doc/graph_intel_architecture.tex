\begin{tikzpicture}
	\node[apribox, minimum width=3cm, minimum height=1.5cm, label={[yshift=-18pt]CPU}] (cpu) {};
	\node[commonbox] (mmu) at (cpu.south) [above=5pt] {MMU};
	\node[bluebox] (gfx) [left=of cpu] {PCIe/Graphics Adapter};
	\node[bluebox] (ram) [right=of cpu] {RAM};

	\node[commonbox, minimum width=3cm, minimum height=1.5cm, label={[yshift=-18pt]PCH}] (pch) [below=1cm of cpu] {};
	\node[commonbox] (iommu) at (pch.south) [above=5pt] {IOMMU};
	\node[greenbox] (keyboard) [left=of pch] {Keyboard};
	\node[greenbox] (usb) [below left=of pch] {USB};
	\node[greenbox] (pci) [below=of pch] {PCI Express};
	\node[greenbox] (bios) [below right=of pch] {BIOS};
	\node[greenbox] (legacy) [right=of pch] {Legacy};

	\draw[thick] (cpu) to node[auto] {DMI} (pch);
	\draw[thick] (cpu) -- (gfx);
	\draw[thick] (cpu) -- (ram);
	\draw[thick] (pch) -- (keyboard);
	\draw[thick] (pch) -- (usb);
	\draw[thick] (pch) -- (pci);
	\draw[thick] (pch) -- (bios);
	\draw[thick] (pch) -- (legacy);
\end{tikzpicture}
