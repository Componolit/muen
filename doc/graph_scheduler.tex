\begin{tikzpicture}[minimum height=0.6cm]
	\node (sch) [bluebox]                {Scheduler};
	\node (knl) [bluebox, left=of sch]   {Kernel Main};
	\node (pln) [apribox, above=of sch]  {Scheduling Plan};
	\node (sub) [greenbox, right=of sch] {Subject};
	\node[gray, font=\scriptsize] at (0.8,2.3) {VMX root};
	\node[gray, font=\scriptsize] at (2.6,2.3) {VMX non-root};

	\draw[arrow] (knl) to (sch);
	\draw[arrow] (pln) to (sch);
	\draw[arrow] (sch) to[bend right=65] node[auto] {VM enter} (sub);
	\draw[arrow] (sub) to[bend right=65] node[auto] {VM exit}  (sch);
	\draw[thin, dotted, gray] (1.6,-1.5) to (1.6,2.5);
\end{tikzpicture}
